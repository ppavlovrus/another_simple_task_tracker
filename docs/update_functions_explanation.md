# ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ `update_task` Ğ¸ `update_user`: Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ĞµĞ¹

## ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ: Partial Update (Ğ§Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)

ĞĞ±Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ **Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°** Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµÑ… Ğ¿Ğ¾Ğ»ĞµĞ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ±Ñ‹Ğ»Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ñ‹ (Ğ½Ğµ `None`). Ğ­Ñ‚Ğ¾ Ğ½Ğ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ **Partial Update** Ğ¸Ğ»Ğ¸ **PATCH-Ğ¿Ğ¾Ğ´Ğ¾Ğ±Ğ½Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ**.

### Ğ—Ğ°Ñ‡ĞµĞ¼ ÑÑ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾?

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ±ĞµĞ· Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:**
```python
# âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾ - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ, Ğ´Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ñ‹
UPDATE tasks
SET title = $1, description = $2, status_id = $3, ...
WHERE id = $7
```

Ğ•ÑĞ»Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ `{"title": "New Title"}`, Ğ²ÑĞµ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²ÑÑ‚ÑÑ Ğ½Ğ° `NULL`!

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ¼:**
```python
# âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾ - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ
UPDATE tasks
SET title = $1, updated_at = NOW()
WHERE id = $2
```

ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ `title`, Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ¾ÑÑ‚Ğ°ÑÑ‚ÑÑ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹.

---

## ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ `update_task`

### Ğ¨Ğ°Ğ³ 1: Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```python
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ¾
if not any([
    task.title is not None,
    task.description is not None,
    task.status_id is not None,
    task.assignee_id is not None,
    task.deadline_start is not None,
    task.deadline_end is not None,
]):
    raise HTTPException(
        status_code=status.HTTP_400_BAD_REQUEST,
        detail="At least one field must be provided for update",
    )
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ Ğ½Ğµ `None`
- Ğ•ÑĞ»Ğ¸ Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ `None` â†’ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° 400

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:**
```json
// âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ (Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ None Ğ¸Ğ»Ğ¸ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ñ‹)
PUT /tasks/1
Body: {}

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ (Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ)
PUT /tasks/1
Body: {"title": "New Title"}
```

---

### Ğ¨Ğ°Ğ³ 2: Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°

```python
# Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
update_fields = []  # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ»ĞµĞ¹ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ: ["title = $1", "status_id = $2"]
values = []         # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹: ["New Title", 2]
param_index = 1     # Ğ¡Ñ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²: $1, $2, $3, ...

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ
if task.title is not None:
    update_fields.append(f"title = ${param_index}")  # "title = $1"
    values.append(task.title)                         # "New Title"
    param_index += 1                                  # param_index = 2

if task.description is not None:
    update_fields.append(f"description = ${param_index}")  # "description = $2"
    values.append(task.description)                         # "New Description"
    param_index += 1                                        # param_index = 3

# ... Ğ¸ Ñ‚Ğ°Ğº Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»Ñ
```

**Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°:**

```
Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:
{
  "title": "New Title",
  "status_id": 2
}

Ğ¨Ğ°Ğ³ 1: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° title
  task.title = "New Title" (Ğ½Ğµ None)
  â†’ update_fields.append("title = $1")
  â†’ values.append("New Title")
  â†’ param_index = 2

Ğ¨Ğ°Ğ³ 2: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° description
  task.description = None
  â†’ ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµĞ¼

Ğ¨Ğ°Ğ³ 3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° status_id
  task.status_id = 2 (Ğ½Ğµ None)
  â†’ update_fields.append("status_id = $2")
  â†’ values.append(2)
  â†’ param_index = 3

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:
  update_fields = ["title = $1", "status_id = $2"]
  values = ["New Title", 2]
  param_index = 3
```

---

### Ğ¨Ğ°Ğ³ 3: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹

```python
# Ğ’ÑĞµĞ³Ğ´Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ updated_at
update_fields.append("updated_at = NOW()")

# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ task_id Ğ² ĞºĞ¾Ğ½ĞµÑ† ÑĞ¿Ğ¸ÑĞºĞ° Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹
values.append(task_id)  # Ğ¢ĞµĞ¿ĞµÑ€ÑŒ values = ["New Title", 2, 1]
```

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
```python
update_fields = ["title = $1", "status_id = $2", "updated_at = NOW()"]
values = ["New Title", 2, 1]  # task_id = 1
param_index = 3  # Ğ”Ğ»Ñ WHERE id = $3
```

---

### Ğ¨Ğ°Ğ³ 4: ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°

```python
query = f"""
    UPDATE tasks
    SET {', '.join(update_fields)}
    WHERE id = ${param_index}
    RETURNING id, title, description, status_id, creator_id, assignee_id, deadline_start, deadline_end, created_at, updated_at
"""
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ÑÑ:**
```sql
UPDATE tasks
SET title = $1, status_id = $2, updated_at = NOW()
WHERE id = $3
RETURNING id, title, description, status_id, creator_id, assignee_id, deadline_start, deadline_end, created_at, updated_at
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** 
- Ğ˜Ğ¼ĞµĞ½Ğ° Ğ¿Ğ¾Ğ»ĞµĞ¹ (`title`, `status_id`) Ğ¶ĞµÑÑ‚ĞºĞ¾ Ğ·Ğ°ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ² ĞºĞ¾Ğ´Ğµ â†’ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ¾Ñ‚ SQL injection
- Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ (`$1`, `$2`, `$3`) â†’ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾

---

### Ğ¨Ğ°Ğ³ 5: Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°

```python
row = await conn.fetchrow(query, *values)
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
- `*values` Ñ€Ğ°ÑĞ¿Ğ°ĞºĞ¾Ğ²Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº: `["New Title", 2, 1]` â†’ `"New Title", 2, 1`
- PostgreSQL Ğ¿Ğ¾Ğ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ:
  - `$1` = `"New Title"`
  - `$2` = `2`
  - `$3` = `1`

**SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ² Ğ‘Ğ”:**
```sql
UPDATE tasks
SET title = 'New Title', status_id = 2, updated_at = NOW()
WHERE id = 1
RETURNING ...
```

---

## ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: `update_task`

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 1: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ title

**Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ:**
```http
PUT /tasks/1
Content-Type: application/json

{
  "title": "Updated Task Title"
}
```

**Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ:**

```python
# 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
task.title = "Updated Task Title"  # âœ… ĞĞµ None

# 2. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
update_fields = ["title = $1", "updated_at = NOW()"]
values = ["Updated Task Title", 1]  # task_id = 1

# 3. SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
UPDATE tasks
SET title = $1, updated_at = NOW()
WHERE id = $2

# 4. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾: title Ğ¸ updated_at
# ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ (description, status_id, Ğ¸ Ñ‚.Ğ´.) Ğ¾ÑÑ‚Ğ°Ğ»Ğ¸ÑÑŒ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
```

---

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 2: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹

**Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ:**
```http
PUT /tasks/1
Content-Type: application/json

{
  "title": "New Title",
  "status_id": 3,
  "assignee_id": 5
}
```

**Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ:**

```python
# 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
task.title = "New Title"        # âœ…
task.status_id = 3              # âœ…
task.assignee_id = 5            # âœ…

# 2. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
update_fields = [
    "title = $1",
    "status_id = $2",
    "assignee_id = $3",
    "updated_at = NOW()"
]
values = ["New Title", 3, 5, 1]

# 3. SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
UPDATE tasks
SET title = $1, status_id = $2, assignee_id = $3, updated_at = NOW()
WHERE id = $4

# 4. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹: title, status_id, assignee_id, updated_at
# ĞĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹: description, deadline_start, deadline_end
```

---

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 3: ĞÑˆĞ¸Ğ±ĞºĞ° - Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ None

**Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ:**
```http
PUT /tasks/1
Content-Type: application/json

{}
```

**Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ:**

```python
# 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
if not any([...]):  # Ğ’ÑĞµ Ğ¿Ğ¾Ğ»Ñ None
    raise HTTPException(
        status_code=400,
        detail="At least one field must be provided for update"
    )

# Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: HTTP 400 Bad Request
```

---

## ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ `update_user`

Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ‚Ğ°ĞºĞ°Ñ Ğ¶Ğµ, Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹:

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ email

**Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ:**
```http
PUT /users/1
Content-Type: application/json

{
  "email": "newemail@example.com"
}
```

**Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ:**

```python
# 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
user.email = "newemail@example.com"  # âœ… ĞĞµ None

# 2. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
update_fields = ["email = $1"]
values = ["newemail@example.com", 1]  # user_id = 1

# 3. SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
UPDATE "user"
SET email = $1
WHERE id = $2

# 4. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ email
# username Ğ¸ password Ğ¾ÑÑ‚Ğ°Ğ»Ğ¸ÑÑŒ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
```

---

## Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ: PUT /tasks/1                                   â”‚
â”‚  Body: {"title": "New", "status_id": 2}                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¨Ğ°Ğ³ 1: Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ                                       â”‚
â”‚  ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼: Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ Ğ½Ğµ None?                 â”‚
â”‚  âœ… title = "New" (Ğ½Ğµ None)                             â”‚
â”‚  âœ… status_id = 2 (Ğ½Ğµ None)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¨Ğ°Ğ³ 2: ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²                              â”‚
â”‚                                                          â”‚
â”‚  title Ğ½Ğµ None?                                          â”‚
â”‚  â†’ update_fields.append("title = $1")                   â”‚
â”‚  â†’ values.append("New")                                  â”‚
â”‚  â†’ param_index = 2                                       â”‚
â”‚                                                          â”‚
â”‚  description Ğ½Ğµ None?                                    â”‚
â”‚  â†’ ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ (None)                                     â”‚
â”‚                                                          â”‚
â”‚  status_id Ğ½Ğµ None?                                      â”‚
â”‚  â†’ update_fields.append("status_id = $2")               â”‚
â”‚  â†’ values.append(2)                                      â”‚
â”‚  â†’ param_index = 3                                       â”‚
â”‚                                                          â”‚
â”‚  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:                                              â”‚
â”‚  update_fields = ["title = $1", "status_id = $2"]       â”‚
â”‚  values = ["New", 2]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¨Ğ°Ğ³ 3: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹                   â”‚
â”‚                                                          â”‚
â”‚  update_fields.append("updated_at = NOW()")            â”‚
â”‚  values.append(1)  # task_id                             â”‚
â”‚                                                          â”‚
â”‚  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:                                              â”‚
â”‚  update_fields = ["title = $1", "status_id = $2",       â”‚
â”‚                   "updated_at = NOW()"]                  â”‚
â”‚  values = ["New", 2, 1]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¨Ğ°Ğ³ 4: ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°                          â”‚
â”‚                                                          â”‚
â”‚  query = f"""                                            â”‚
â”‚      UPDATE tasks                                        â”‚
â”‚      SET {', '.join(update_fields)}                      â”‚
â”‚      WHERE id = ${param_index}                          â”‚
â”‚      RETURNING ...                                       â”‚
â”‚  """                                                     â”‚
â”‚                                                          â”‚
â”‚  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:                                              â”‚
â”‚  UPDATE tasks                                            â”‚
â”‚  SET title = $1, status_id = $2, updated_at = NOW()     â”‚
â”‚  WHERE id = $3                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¨Ğ°Ğ³ 5: Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°                              â”‚
â”‚                                                          â”‚
â”‚  row = await conn.fetchrow(query, *values)              â”‚
â”‚  # *values Ñ€Ğ°ÑĞ¿Ğ°ĞºĞ¾Ğ²Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ: "New", 2, 1                  â”‚
â”‚                                                          â”‚
â”‚  PostgreSQL Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚:                                   â”‚
â”‚  UPDATE tasks                                            â”‚
â”‚  SET title = 'New', status_id = 2, updated_at = NOW()  â”‚
â”‚  WHERE id = 1                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¨Ğ°Ğ³ 6: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°                            â”‚
â”‚                                                          â”‚
â”‚  if not row:                                             â”‚
â”‚      raise HTTPException(404, "Task not found")          â”‚
â”‚                                                          â”‚
â”‚  return TaskResponse(...)  # Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½ÑƒÑ    â”‚
â”‚                             # Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ `param_index`?

`param_index` - ÑÑ‚Ğ¾ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ´Ğ»Ñ Ğ½ÑƒĞ¼ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞµ (`$1`, `$2`, `$3`, ...).

### ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:

```python
param_index = 1

# ĞŸĞµÑ€Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ
if task.title is not None:
    update_fields.append(f"title = ${param_index}")  # "title = $1"
    values.append(task.title)                         # "New Title"
    param_index += 1                                  # param_index = 2

# Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ
if task.status_id is not None:
    update_fields.append(f"status_id = ${param_index}")  # "status_id = $2"
    values.append(task.status_id)                         # 2
    param_index += 1                                      # param_index = 3

# task_id Ğ² WHERE
values.append(task_id)  # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ² ĞºĞ¾Ğ½ĞµÑ†
# WHERE id = ${param_index}  # "WHERE id = $3"
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ² `values` Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°Ñ‚ÑŒ Ñ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞ¾Ğ¼ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² SQL!

---

## Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ: Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ vs ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´

### âŒ Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ (Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹):

```python
# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ, Ğ´Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ñ‹
UPDATE tasks
SET title = $1, description = $2, status_id = $3, ...
WHERE id = $7

# Ğ•ÑĞ»Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ {"title": "New"}:
# description Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ Ğ½Ğ° NULL! âŒ
```

### âœ… ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ (Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹):

```python
# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ
if task.title is not None:
    update_fields.append("title = $1")
    values.append(task.title)

# Ğ•ÑĞ»Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ {"title": "New"}:
# ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ title, description Ğ¾ÑÑ‚Ğ°Ğ½ĞµÑ‚ÑÑ Ğ¿Ñ€ĞµĞ¶Ğ½Ğ¸Ğ¼ âœ…
```

---

## Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ SQL Injection

**Ğ˜Ğ¼ĞµĞ½Ğ° Ğ¿Ğ¾Ğ»ĞµĞ¹ (Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾):**
```python
update_fields.append(f"title = ${param_index}")  # âœ…
```

Ğ˜Ğ¼ĞµĞ½Ğ° Ğ¿Ğ¾Ğ»ĞµĞ¹ (`title`, `status_id`) **Ğ¶ĞµÑÑ‚ĞºĞ¾ Ğ·Ğ°ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹** Ğ² ĞºĞ¾Ğ´Ğµ, Ğ½Ğµ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ.

**Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ (Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾):**
```python
values.append(task.title)  # âœ…
```

Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· **Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹** (`$1`, `$2`), PostgreSQL ÑĞ°Ğ¼ ÑĞºÑ€Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¸Ñ….

**ĞĞ• Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹:**
```python
# âŒ ĞĞ˜ĞšĞĞ“Ğ”Ğ Ğ¢ĞĞš ĞĞ• Ğ”Ğ•Ğ›ĞĞ™!
query = f"UPDATE tasks SET {user_input} WHERE id = {task_id}"
```

---

## Ğ ĞµĞ·ÑĞ¼Ğµ

### ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:

1. **Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ** - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ¾
2. **Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ** - ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğµ-None Ğ¿Ğ¾Ğ»Ñ Ğ² ÑĞ¿Ğ¸ÑĞºĞ¸
3. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ…** - Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ `updated_at`
4. **ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ SQL** - ÑĞ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸
5. **Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ** - Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸
6. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°** - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ° Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:

- âœ… ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ
- âœ… ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ¾ÑÑ‚Ğ°ÑÑ‚ÑÑ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
- âœ… Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ¾Ñ‚ SQL injection
- âœ… Ğ“Ğ¸Ğ±ĞºĞ¾ - Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ 1 Ğ¿Ğ¾Ğ»Ğµ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ `updated_at`

### ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñ‹:

- `param_index` - ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ´Ğ»Ñ Ğ½ÑƒĞ¼ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
- `update_fields` - ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ»ĞµĞ¹ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- `values` - ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ² Ñ‚Ğ¾Ğ¼ Ğ¶Ğµ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ
- ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ - Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ SQL injection

Ğ­Ñ‚Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Ğ´Ğ»Ñ **Partial Update** Ğ² REST API! ğŸ¯

